<p-toast></p-toast>
<div class="screen">
    <div style="width: 100%; padding: 0 50px;">

        <div class="action-header">
            <h1>Gesti√≥n de Usuarios</h1>
            <button pButton>Nuevo</button>
        </div>
        <div>

            <p-table [value]="allUsers" [tableStyle]="{ 'min-width': '50rem' }">
                <ng-template pTemplate="header">
                    <tr>
                        <th>Nombre</th>
                        <th>Apellido</th>
                        <th>Correo</th>
                        <th>Obra social</th>
                        <th>Especialidad</th>
                        <th style="width: 5rem">Acciones</th>
                    </tr>
                </ng-template>

                <ng-template pTemplate="body" let-user>


                    <tr>
                        <td>{{ user.firstName }}</td>
                        <td>{{ user.lastName }}</td>
                        <td>{{ user.email }}</td>
                        <td>{{ user.healthcare ?? '-' }}</td>
                        <td>{{ user.specialty ?? '-' }}</td>
                        <td *ngIf="user.specialty">
                            <button style="width: 100%; justify-content: center;" (click)="handleSetUserStatus(user)" [disabled]="updateUserLoading" pButton>
                                {{user.disabled ? 'Habilitar' : 'Deshabilitar'}}
                                <i *ngIf="updateUserLoading" class="pi pi-spin pi-spinner"></i>
                            </button>
                        </td>
                    </tr>
                </ng-template>

                <ng-template pTemplate="emptymessage">
                    <tr>
                        <td *ngIf="getUsersLoading" colspan="7">
                            <div class="loading-table-container">
                                Cargando...
                                <i class="pi pi-spin pi-spinner"></i>
                            </div>
                        </td>
                        <td *ngIf="!getUsersLoading" colspan="7">No se encontraron usuarios</td>
                    </tr>
                </ng-template>
            </p-table>

        </div>


    </div>
</div>